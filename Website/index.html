<!DOCTYPE html>
<html lang="en">
<head>
    <title>Webpage Design</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="main">
        <div class="navbar">
            <div class="icon">
                <h2 class="logo">RogStrix</h2>
            </div>

            <div class="menu">
                <ul>
                    <li><a href="#">HOME</a></li>
                    <li><a href="#">ABOUT</a></li>
                    <li><a href="#">SERVICE</a></li>
                    <li><a href="#">DESIGN</a></li>
                    <li><a href="#">CONTACT</a></li>
                </ul>
            </div>

            <div class="search">
                <input class="srch" type="search" name="" placeholder="Type To text">
                <a href="#"> <button class="btn">Search</button></a>
            </div>

        </div> 
        <div class="content">
            <h1>Web Design & <br><span>Development</span> <br>Course</h1>
            <p class="par">Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt neque 
                 expedita atque eveniet <br> quis nesciunt. Quos nulla vero consequuntur, fugit nemo ad delectus 
                <br> a quae totam ipsa illum minus laudantium?</p>

                <button class="cn"><a href="#">JOIN US</a></button>

                <div class="form" name="mylogin">
                    <h2>Login Here</h2>
                    <input type="user" id="user" name="user" placeholder="Enter User Here">
                    <input type="password" id="password" name="" placeholder="Enter Password Here">
                    <button class="btnn" onclick="validationcheck()"><a href="#">Login</a></button>

                    <p class="link">Don't have an account<br>
                    <a href="#">Sign up </a> here</a></p>
                    <p class="liw">Log in with</p>

                    <div class="icons">
                        <a href="#"><ion-icon name="logo-facebook"></ion-icon></a>
                        <a href="#"><ion-icon name="logo-instagram"></ion-icon></a>
                        <a href="#"><ion-icon name="logo-twitter"></ion-icon></a>
                        <a href="#"><ion-icon name="logo-google"></ion-icon></a>
                        <a href="#"><ion-icon name="logo-reddit"></ion-icon></a>
                    </div>

                </div>
                    </div>
                </div>
        </div>
    </div>
    <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
</body>
</html>


<script type="text/javascript">

/*const userId = sessionStorage.getItem("userId");
if (userId) {
    window.location.href = "home.html";
}


function signIn() {
    const email = document.getElementById("email");
    const password = document.getElementById("password");

    if (!email.value || !password.value) {
        alert("Please fill in the required information.");
    }

    const URL = "http://localhost:5611/api/v1/authenticate";
    const body = {
        "email": email.value,
        "password": password.value
    };
    const params = {
        "method": "POST",
        "mode": "cors",
        "headers": {
            "Content-Type": "application/json"
        },
        "body": JSON.stringify(body)
    };

    fetch(URL, params).then(responseReceived).then(processData).catch(displayError);
}

function responseReceived(response) {
    if (!response.ok) {
        alert("Failed to sign in.");
    }
    return response.json();
}

function processData(data) {
    localStorage.setItem("userId", data.id);
    localStorage.setItem("userEmail", data.email);

    sessionStorage.setItem("userId", data.id);
    sessionStorage.setItem("userEmail", data.email);

    document.cookie = `userId=${data.id}; userEmail=${data.email}; expires=Fri, 23 Dec 2022 23:59:59 UTC; path=/;`;

    window.location.href = "home.html";
}

function displayError(error) {
    alert(error.message);
}*/

var db;

try {
  db = openDatabase('app', '1.0', 'DariusDb', 2 * 1024 * 1024);
} catch (e) {
  console.log(e);
}

try {
  db.transaction(function(tx) {
    var sql;

    /*
    sql = `DROP TABLE Persons`;

    tx.executeSql(sql, [], function(tx, result) {
      console.log('RESULT:', result);
    }, function(tx, error) {
      console.log('ERROR:', error);
    });
    */

    sql = `
      CREATE TABLE IF NOT EXISTS APP.USERS (
        UserId INTEGER PRIMARY KEY AUTOINCREMENT,
        User VARCHAR(100) NOT NULL UNIQUE,
        Password VARCHAR(100) NOT NULL 
      );
    `;

    tx.executeSql(sql, [], function(tx, result) {
      console.log('RESULT:', result);
    }, function(tx, error) {
      console.log('ERROR:', error);
    });

    /*
    sql = `
      SELECT * FROM Persons WHERE username='Darius'
    `;

    tx.executeSql(sql, [], function(tx, result) {
      if (result.rows.length == 1)
      {
        var user = result.rows.item(0);
        console.log(user);
      }
    }, function(tx, error) {
      console.log('ERROR:', error);
    });
    */

    /*
    sql = `
      INSERT INTO Persons (
        username,
        password
      ) VALUES (
        'admin',
        'admin'
      );
    `;

    tx.executeSql(sql, [], function(tx, result) {
      console.log('RESULT:', result);
    }, function(tx, error) {
      console.log('ERROR:', error);
    });
    */

  });
} catch (e) {
  console.log(e)
}

function validationcheck() {
  if (document.mylogin.user.value == "") {
    console.log('please enter username');
    document.mylogin.user.focus();
  } else if (document.mylogin.password.value == "") {
    console.log('please enter password');
    document.mylogin.password.focus();
  } else {
    var user = document.mylogin.user.value;
    var password = document.mylogin.password.value;
    try {

      db.transaction(function(tx) {
        tx.executeSql(`SELECT * FROM APP.USERS WHERE User='${user}'`, [], function(tx, result) {
          if (result.rows.length == 1) {
            var user = result.rows.item(0);

            if (user == user.user && password == user.password) {
              console.log('LOGIN SUCCESS');
            } else {
              console.log('LOGIN FAILURE');
            }
          }
        }, function(tx, error) {
          console.log('ERROR:', error);
        });
      });

    } catch (e) {
      console.log(e);
    }
  }
}


</script>